{"version":3,"sources":["components/Footer.tsx","components/CustomNavLink.tsx","components/Navbar.tsx","helpers/cartHelper.tsx","helpers/favoritesHelper.tsx","helpers/searchHelper.ts","components/Search.tsx","helpers/debounce.ts","components/Header.tsx","api/fetchClient.ts","api/products.ts","components/Loader.tsx","helpers/getUrlProduct.ts","components/ProductCard.tsx","components/ProductsSlider.tsx","components/ShopByCategory.tsx","components/Banner.tsx","components/Message.tsx","pages/HomePage.tsx","pages/NotFoundPage.tsx","components/ProductsList.tsx","components/SearchLink.tsx","components/Selector.tsx","components/Pagination.tsx","helpers/getNumbers.ts","components/NoResults.tsx","components/Breadcrumbs.tsx","pages/ProductsPage.tsx","helpers/getProducts.ts","components/ProductGallery.tsx","pages/ProductDetailsPage.tsx","pages/CartPage.tsx","pages/FavoritesPage.tsx","App.tsx","index.tsx"],"names":["Footer","className","to","src","alt","href","type","onClick","window","scrollTo","top","left","behavior","CustomNavLink","children","classes","activeClass","isActive","classNames","Navbar","map","item","CartContext","React","createContext","cartItems","addCartItems","getTotalQuantity","deleteCartItem","incrementCounter","decrementCounter","CartProvider","useState","JSON","parse","localStorage","getItem","setCartItems","saveCartItems","currentCart","setItem","stringify","contextValue","product","id","quantity","reduce","sum","current","productId","productIndex","findIndex","splice","cartItem","find","Provider","value","FavoritesContext","favorites","addRemoveToFavorites","FavoritesProvider","setFavorites","inFavorites","filter","getSearchWith","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","delete","Array","isArray","part","append","set","Search","placeholderName","useSearchParams","searchParams","setSearchParams","queryParam","get","query","setQuery","setQuerySearchParams","page","setQuerySearchParamsDebounced","useMemo","fn","ms","timer","args","clearTimeout","setTimeout","apply","debounce","useEffect","placeholder","onChange","event","target","length","Header","useContext","paths","useLocation","pathname","split","cartTotalQuantity","needSearch","BASE_URL","wait","delay","Promise","resolve","request","url","method","data","options","body","headers","then","fetch","response","ok","Error","json","client","getProducts","getProductDetails","Loader","getUrlProduct","productType","productID","ProductCard","currentProduct","priceWithDiscount","price","discount","inCart","imageUrl","name","screen","capacity","ram","ProductsSlider","title","products","position","setPosition","endPosition","currentPosition","Math","min","disabled","max","style","transition","marginLeft","ShopByCategory","phonesQuantity","tabletsQuantity","accessoriesQuantity","Banner","images","imgsForRender","animationDuration","currentSlide","setCurrentSlide","currentDuration","setCurrentDuration","handlerNextButton","timerId","width","dotId","Message","message","isError","HomePage","setProducts","setIsError","isLoading","setIsLoading","hotPriceProducts","sort","productA","productB","newProducts","getQuantity","loadedProducts","catch","finally","NotFoundPage","ProductsList","SearchLink","params","props","search","Selector","items","filterName","defaultValue","isDropdown","setIsDropdown","sortBy","onClickHandler","getParams","addParam","text","getSortByText","Pagination","perPage","endPage","ceil","pages","from","numbers","n","push","getNumbers","String","pageNumber","currentPage","NoResults","categoryName","Breadcrumbs","productName","getCrumbElement","path","isLast","switchCrumb","index","array","ProductsPage","getProductsOfType","pageTitle","allProducts","setAllProducts","toLowerCase","foundProducts","includes","getPerPage","beginItem","endItem","visibleProducts","localeCompare","age","slice","getVisibleProducts","getPhones","getTablets","getAccessories","getRandomProducts","currentProductId","result","i","j","floor","random","ProductGallery","imagesUrl","mainPhoto","setMainPhoto","altMainPhoto","match","itemHeight","height","frameSize","marginTop","image","imgUrl","nameImage","ProductDetailsPage","randomProducts","setRandomProducts","useParams","productDetails","setProductDetails","details","navigate","useNavigate","currentError","fetchData","a","resultProductDetails","resultProducts","display","screenSize","screenResolution","hardware","cpu","storage","description","flash","camera","primary","battery","connectivity","cell","CartPage","onCheckout","setOnCheckout","getProductPrice","addCounterHandler","subtractCounterHandler","FavoritesPage","visibleFavorites","App","element","replace","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba0580b9.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\n\nexport const Footer = () => {\n  const backToTop = () => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  return (\n    <footer className=\"footer\">\n      <Link to=\"/\">\n        <img\n          src=\"./img/logo.svg\"\n          alt=\"Logo\"\n          className=\"logo\"\n        />\n      </Link>\n      <nav className=\"navbar\">\n        <ul className=\"navbar__list\">\n          <li className=\"navbar__item\">\n            <a\n              href=\"https://github.com/volodymir-tymtsias/react_phone-catalog\"\n              className=\"navbar__link\"\n            >\n              github\n            </a>\n          </li>\n          <li className=\"navbar__item\">\n            <Link to=\"contacts\" className=\"navbar__link\">\n              contacts\n            </Link>\n          </li>\n          <li className=\"navbar__item\">\n            <Link to=\"rights\" className=\"navbar__link\">\n              rights\n            </Link>\n          </li>\n        </ul>\n      </nav>\n      <div className=\"footer__back\">\n        <p>Back to top</p>\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={backToTop}\n        >\n          <span className=\"icon icon--up\" />\n        </button>\n      </div>\n    </footer>\n  );\n};\n","import { FC } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\n\ntype Props = {\n  to: string;\n  classes: string;\n  activeClass: string;\n};\n\nexport const CustomNavLink: FC<Props> = ({\n  children,\n  to,\n  classes,\n  activeClass,\n}) => (\n  <NavLink\n    to={to}\n    className={({ isActive }) => classNames(\n      classes,\n      { [activeClass]: isActive },\n    )}\n  >\n    {children}\n  </NavLink>\n);\n","import { CustomNavLink } from './CustomNavLink';\n\nexport const Navbar = () => {\n  const urls = ['home', 'phones', 'tablets', 'accessories'];\n\n  return (\n    <nav className=\"navbar\">\n      <ul className=\"navbar__list\">\n        {\n          urls.map(item => (\n            <li className=\"navbar__item\" key={item}>\n              <CustomNavLink\n                to={item === 'home' ? '/' : item}\n                classes=\"navbar__link\"\n                activeClass=\"navbar__link--active\"\n              >\n                {item}\n              </CustomNavLink>\n            </li>\n          ))\n        }\n      </ul>\n    </nav>\n  );\n};\n","import React, { useState } from 'react';\nimport { Product } from '../types/Product';\nimport { CartItem } from '../types/CartItem';\n\ntype Context = {\n  cartItems: CartItem[],\n  addCartItems: (product: Product) => void,\n  getTotalQuantity: () => number,\n  deleteCartItem: (productId: string) => void,\n  incrementCounter: (productId: string) => void,\n  decrementCounter: (productId: string) => void,\n};\n\nexport const CartContext = React.createContext<Context>({\n  cartItems: [],\n  addCartItems: () => {},\n  getTotalQuantity: () => 0,\n  deleteCartItem: () => {},\n  incrementCounter: () => {},\n  decrementCounter: () => {},\n});\n\nexport const CartProvider: React.FC = ({ children }) => {\n  const [cartItems, setCartItems] = useState<CartItem[]>(\n    JSON.parse(localStorage.getItem('Cart') || 'null') || [],\n  );\n\n  const saveCartItems = (currentCart: CartItem[]) => {\n    setCartItems([...currentCart]);\n    localStorage.setItem('Cart', JSON.stringify(currentCart));\n  };\n\n  const getTotalQuantity = () => {\n    return cartItems.reduce((sum, current) => sum + current.quantity, 0);\n  };\n\n  const deleteCartItem = (productId: string) => {\n    const productIndex = cartItems.findIndex(item => item.id === productId);\n\n    if (productIndex !== -1) {\n      cartItems.splice(productIndex, 1);\n      saveCartItems(cartItems);\n    }\n  };\n\n  const incrementCounter = (productId: string) => {\n    const cartItem = cartItems.find(item => item.id === productId);\n\n    if (cartItem) {\n      cartItem.quantity += 1;\n      saveCartItems(cartItems);\n    }\n  };\n\n  const decrementCounter = (productId: string) => {\n    const cartItem = cartItems.find(item => item.id === productId);\n\n    if (cartItem && cartItem.quantity > 1) {\n      cartItem.quantity -= 1;\n      saveCartItems(cartItems);\n    }\n  };\n\n  const addCartItems = (product: Product) => {\n    saveCartItems([\n      ...cartItems,\n      {\n        id: product.id,\n        quantity: 1,\n        product,\n      },\n    ]);\n  };\n\n  const contextValue: Context = {\n    cartItems,\n    addCartItems,\n    getTotalQuantity,\n    deleteCartItem,\n    incrementCounter,\n    decrementCounter,\n  };\n\n  return (\n    <CartContext.Provider value={contextValue}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n","import React, { useState } from 'react';\nimport { Product } from '../types/Product';\n\ntype Context = {\n  favorites: Product[],\n  addRemoveToFavorites: (product: Product) => void,\n};\n\nexport const FavoritesContext = React.createContext<Context>({\n  favorites: [],\n  addRemoveToFavorites: () => {},\n});\n\nexport const FavoritesProvider: React.FC = ({ children }) => {\n  const [favorites, setFavorites] = useState<Product[]>([]);\n\n  const addRemoveToFavorites = (product: Product) => {\n    const inFavorites = favorites.find(item => item.id === product.id);\n\n    if (inFavorites) {\n      setFavorites([...favorites.filter(item => item.id !== product.id)]);\n    } else {\n      setFavorites([...favorites, product]);\n    }\n  };\n\n  const contextValue: Context = {\n    favorites,\n    addRemoveToFavorites,\n  };\n\n  return (\n    <FavoritesContext.Provider value={contextValue}>\n      {children}\n    </FavoritesContext.Provider>\n  );\n};\n","export type SearchParams = {\n  [key: string]: string | string[] | null,\n};\n\n/**\n * This function prepares a correct search string\n * from a given currentParams and paramsToUpdate.\n */\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams, // it's our custom type\n): string {\n  // copy currentParams by creating new object from a string\n  const newParams = new URLSearchParams(\n    currentParams.toString(),\n  );\n\n  // Here is the example of paramsToUpdate\n  // {\n  //   sex: 'm',                ['sex', 'm']\n  //   order: null,             ['order', null]\n  //   centuries: ['16', '19'], ['centuries', ['16', '19']]\n  // }\n  //\n  // - params with the `null` value are deleted;\n  // - string value is set to given param key;\n  // - array of strings adds several params with the same key;\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        // we delete the key to remove old values\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  // we return a string to use it inside links\n  return newParams.toString();\n}\n","import { useEffect, useMemo, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchWith } from '../helpers/searchHelper';\nimport { debounce } from '../helpers/debounce';\n\ntype Props = {\n  placeholderName: string,\n};\n\nexport const Search: React.FC<Props> = ({ placeholderName }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryParam = searchParams.get('query') || '';\n  const [query, setQuery] = useState(queryParam);\n\n  const setQuerySearchParams = (value: string) => {\n    setSearchParams(\n      getSearchWith(\n        searchParams,\n        { query: value || null, page: '1' },\n      ),\n    );\n  };\n\n  const setQuerySearchParamsDebounced = useMemo(\n    () => debounce(setQuerySearchParams, 300),\n    [placeholderName],\n  );\n\n  const onQueryChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value);\n    setQuerySearchParamsDebounced(event.target.value);\n  };\n\n  const deleteQuery = () => {\n    setQuery('');\n    setSearchParams(\n      getSearchWith(searchParams, { query: null, page: '1' }),\n    );\n  };\n\n  useEffect(() => {\n    if (!queryParam) {\n      setQuery('');\n    }\n  }, [placeholderName]);\n\n  return (\n    <div className=\"search\">\n      <input\n        type=\"text\"\n        className=\"search__input\"\n        placeholder={`Search in ${placeholderName}...`}\n        value={query}\n        onChange={onQueryChange}\n      />\n\n      {!query.length\n        ? <span className=\"icon icon--search\" />\n        : (\n          <button\n            className=\"button button--delete\"\n            type=\"button\"\n            data-cy=\"searchDelete\"\n            onClick={deleteQuery}\n          >\n            <span className=\"icon icon--close\" />\n          </button>\n        )}\n    </div>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport function debounce(\n  fn: (...args: any[]) => any,\n  ms: number,\n) {\n  let timer: NodeJS.Timeout;\n\n  return function wrapper(this: any, ...args: any[]) {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      fn.apply(this, args);\n    }, ms);\n  };\n}\n","import { Link, useLocation } from 'react-router-dom';\nimport { useContext } from 'react';\nimport { CustomNavLink } from './CustomNavLink';\nimport { Navbar } from './Navbar';\nimport { CartContext } from '../helpers/cartHelper';\nimport { FavoritesContext } from '../helpers/favoritesHelper';\nimport { Search } from './Search';\n\nexport const Header = () => {\n  const { getTotalQuantity } = useContext(CartContext);\n  const { favorites } = useContext(FavoritesContext);\n  const location = useLocation();\n  const paths = location.pathname.split('/');\n  const cartTotalQuantity = getTotalQuantity();\n\n  const needSearch = paths[paths.length - 1] === 'phones'\n   || paths[paths.length - 1] === 'tablets'\n   || paths[paths.length - 1] === 'accessories'\n   || paths[paths.length - 1] === 'favorites';\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__left\">\n        <Link to=\"/\">\n          <img\n            src=\"./img/logo.svg\"\n            alt=\"Logo\"\n            className=\"logo\"\n          />\n        </Link>\n        <Navbar />\n      </div>\n      <div className=\"header__right\">\n        {needSearch && (\n          <div className=\"header__search\">\n            <Search placeholderName={paths[paths.length - 1]} />\n          </div>\n        )}\n        <CustomNavLink\n          to=\"favorites\"\n          classes=\"header__link\"\n          activeClass=\"header__link--active\"\n        >\n          <span className=\"icon icon--favorites\">\n            {!!favorites.length && (\n              <span className=\"icon__counter\">\n                {favorites.length}\n              </span>\n            )}\n          </span>\n        </CustomNavLink>\n        <CustomNavLink\n          to=\"cart\"\n          classes=\"header__link\"\n          activeClass=\"header__link--active\"\n        >\n          <span className=\"icon icon--cart\">\n            {!!cartTotalQuantity && (\n              <span className=\"icon__counter\">\n                {cartTotalQuantity}\n              </span>\n            )}\n          </span>\n        </CustomNavLink>\n      </div>\n    </header>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nconst BASE_URL = 'https://mate-academy.github.io/react_phone-catalog/api';\n\n// returns a promise resolved after a given delay\nfunction wait(delay: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\n// To have autocompletion and avoid mistypes\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null, // we can send any data to the server\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    // We add body and Content-Type only for the requests with data\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  // we wait for testing purpose to see loaders\n  return wait(300)\n    .then(() => fetch(BASE_URL + url, options))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error();\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: any) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","import { Product } from '../types/Product';\nimport { ProductDetails } from '../types/ProductDetails';\nimport { client } from './fetchClient';\n\nexport const getProducts = () => {\n  return client.get<Product[]>('/products.json');\n};\n\nexport const getProductDetails = (productId: string) => {\n  return client.get<ProductDetails>(`/products/${productId}.json`);\n};\n","export const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","export function getUrlProduct(productType: string, productID: string) {\n  switch (productType) {\n    case 'phone':\n      return `/phones/${productID}`;\n\n    case 'tablet':\n      return `/tablets/${productID}`;\n\n    case 'accessory':\n      return `/accessories/${productID}`;\n\n    default:\n      return '/products';\n  }\n}\n","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Product } from '../types/Product';\nimport { CartContext } from '../helpers/cartHelper';\nimport { FavoritesContext } from '../helpers/favoritesHelper';\nimport { getUrlProduct } from '../helpers/getUrlProduct';\n\ntype Props = {\n  product: Product,\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  const { cartItems, addCartItems } = useContext(CartContext);\n  const { favorites, addRemoveToFavorites } = useContext(FavoritesContext);\n  const priceWithDiscount = product.price\n    - (product.price * product.discount) / 100;\n  const inCart = cartItems.find(item => item.id === product.id);\n  const inFavorites = favorites.find(item => item.id === product.id);\n\n  const addToCart = () => {\n    if (!inCart) {\n      addCartItems(product);\n    }\n  };\n\n  const onClickFavoritesHandler = (currentProduct: Product) => () => {\n    addRemoveToFavorites(currentProduct);\n  };\n\n  return (\n    <div className=\"product-card\" data-cy=\"cardsContainer\">\n      <Link\n        to={getUrlProduct(product.type, product.id)}\n        className=\"product-card__top\"\n      >\n        <img\n          src={`./${product.imageUrl}`}\n          alt={product.name}\n          className=\"product-card__image\"\n        />\n        <p className=\"product-card__name\">{product.name}</p>\n      </Link>\n      <div className=\"product-card__bottom\">\n        <div className=\"product-card__price-container\">\n          <h2>{`$${product.discount ? priceWithDiscount : product.price}`}</h2>\n          {!!product.discount && (\n            <p className=\"product-card__discount\">\n              {`$${product.price}`}\n            </p>\n          )}\n        </div>\n        <div className=\"product-card__characteristics\">\n          <div>\n            <p>Screen</p>\n            <p>{product.screen}</p>\n          </div>\n          <div>\n            <p>Capacity</p>\n            <p>{product.capacity}</p>\n          </div>\n          <div>\n            <p>RAM</p>\n            <p>{product.ram}</p>\n          </div>\n        </div>\n        <div className=\"product-card__buttons\">\n          <button\n            type=\"button\"\n            className={classNames(\n              'button',\n              'button--add',\n              { 'button--add-selected': inCart },\n            )}\n            onClick={addToCart}\n          >\n            { inCart ? 'Added to cart' : 'Add to cart' }\n          </button>\n\n          <button\n            type=\"button\"\n            className=\"button button--favorites\"\n            data-cy=\"addToFavorite\"\n            onClick={onClickFavoritesHandler(product)}\n          >\n            <span\n              className={\n                `icon ${inFavorites ? 'icon--favorites-selected' : 'icon--favorites'}`\n              }\n            />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Product } from '../types/Product';\nimport { ProductCard } from './ProductCard';\n\ntype Props = {\n  title: string,\n  products: Product[],\n};\n\nexport const ProductsSlider: React.FC<Props> = ({ title, products }) => {\n  const [position, setPosition] = useState(0);\n  const step = 4;\n  const frameSize = 4;\n  const itemWidth = 272;\n  const gap = 16;\n  const animationDuration = 1000;\n  const endPosition = (-itemWidth - gap) * (products.length - frameSize);\n  const shift = (itemWidth + gap) * step;\n\n  const handlerPreviousButton = () => {\n    let currentPosition = position;\n\n    currentPosition += shift;\n    currentPosition = Math.min(currentPosition, 0);\n    setPosition(currentPosition);\n  };\n\n  const handlerNextButton = () => {\n    let currentPosition = position;\n\n    currentPosition -= shift;\n    currentPosition = Math.max(currentPosition, endPosition);\n\n    setPosition(currentPosition);\n  };\n\n  return (\n    <div className=\"products-slider\">\n      <div className=\"products-slider__top\">\n        <h1>{title}</h1>\n        <div className=\"products-slider__buttons\">\n          <button\n            type=\"button\"\n            className=\"button\"\n            onClick={handlerPreviousButton}\n            disabled={position === 0}\n          >\n            <span\n              className={\n                `icon ${position === 0 ? 'icon--left-disabled' : 'icon--left'}`\n              }\n            />\n          </button>\n          <button\n            type=\"button\"\n            className=\"button\"\n            onClick={handlerNextButton}\n            disabled={position === endPosition}\n          >\n            <span\n              className={\n                `icon ${position === endPosition ? 'icon--right-disabled' : 'icon--right'}`\n              }\n            />\n          </button>\n        </div>\n      </div>\n      <div className=\"products-slider__slider\">\n        <ul\n          className=\"products-slider__list\"\n          style={{\n            transition: `margin-left ${animationDuration}ms`,\n            marginLeft: `${position}px`,\n          }}\n        >\n          {products.map(product => (\n            <li key={product.id}>\n              <ProductCard product={product} />\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\ntype Props = {\n  phonesQuantity: number;\n  tabletsQuantity: number;\n  accessoriesQuantity: number;\n};\n\nexport const ShopByCategory: FC<Props> = ({\n  phonesQuantity,\n  tabletsQuantity,\n  accessoriesQuantity,\n}) => (\n  <>\n    <div className=\"shop-by-category__title\">\n      <h1>Shop by category</h1>\n    </div>\n    <div\n      className=\"shop-by-category__links-container\"\n      data-cy=\"categoryLinksContainer\"\n    >\n      <Link to=\"phones\" className=\"shop-by-category__link\">\n        <div\n          className=\"\n            shop-by-category__img\n            shop-by-category__img--phones\n          \"\n        />\n        <div className=\"shop-by-category__name\">\n          <h3>Mobile phones</h3>\n        </div>\n        <p className=\"shop-by-category__quantity\">\n          {`${phonesQuantity} models`}\n        </p>\n      </Link>\n\n      <Link to=\"tablets\" className=\"shop-by-category__link\">\n        <div\n          className=\"\n            shop-by-category__img\n            shop-by-category__img--tablets\n          \"\n        />\n        <div className=\"shop-by-category__name\">\n          <h3>Tablets</h3>\n        </div>\n        <p className=\"shop-by-category__quantity\">\n          {`${tabletsQuantity} models`}\n        </p>\n      </Link>\n\n      <Link to=\"accessories\" className=\"shop-by-category__link\">\n        <div\n          className=\"\n            shop-by-category__img\n            shop-by-category__img--accessories\n          \"\n        />\n        <div className=\"shop-by-category__name\">\n          <h3>Accessories</h3>\n        </div>\n        <p className=\"shop-by-category__quantity\">\n          {`${accessoriesQuantity} models`}\n        </p>\n      </Link>\n    </div>\n  </>\n);\n","import classNames from 'classnames';\nimport { FC, useEffect, useState } from 'react';\n\nexport const Banner: FC = () => {\n  const images = [\n    {\n      id: 1,\n      url: './_new/img/banner-phones.png',\n      alt: 'Phones',\n    },\n    {\n      id: 2,\n      url: './_new/img/banner-tablets.png',\n      alt: 'Tablets',\n    },\n    {\n      id: 3,\n      url: './_new/img/banner-accessories.png',\n      alt: 'Accessories',\n    },\n  ];\n\n  const imgsForRender = [\n    { ...images[images.length - 1], id: 0 },\n    ...images,\n    { ...images[0], id: images.length + 1 },\n  ];\n  const itemWidth = 1040;\n  const animationDuration = 1000;\n  const [currentSlide, setCurrentSlide] = useState(1);\n  const [currentDuration, setCurrentDuration] = useState(animationDuration);\n\n  const handlerPreviousButton = () => {\n    if (currentSlide === 1) {\n      setCurrentDuration(0);\n      setCurrentSlide(imgsForRender.length - 1);\n\n      return;\n    }\n\n    setCurrentSlide(currentSlide - 1);\n  };\n\n  const handlerNextButton = () => {\n    if (currentSlide === images.length) {\n      setCurrentDuration(0);\n      setCurrentSlide(0);\n\n      return;\n    }\n\n    setCurrentSlide(currentSlide + 1);\n  };\n\n  const handlerDotClick = (dotId: number) => () => {\n    if (!currentDuration) {\n      setCurrentDuration(animationDuration);\n    }\n\n    setCurrentSlide(dotId);\n  };\n\n  useEffect(() => {\n    if (!currentDuration) {\n      setCurrentDuration(animationDuration);\n      if (currentSlide === 0) {\n        setCurrentSlide(currentSlide + 1);\n\n        return;\n      }\n\n      setCurrentSlide(currentSlide - 1);\n    }\n  }, [currentSlide]);\n\n  useEffect(() => {\n    const timerId = setTimeout(handlerNextButton, 5000);\n\n    return () => clearTimeout(timerId);\n  }, [currentSlide]);\n\n  return (\n    <div className=\"banner\">\n      <div className=\"banner__slider\">\n        <button\n          className=\"banner__button button button--banner\"\n          type=\"button\"\n          aria-label=\"Slide control left\"\n          onClick={handlerPreviousButton}\n        >\n          <span className=\"icon icon--left\" />\n        </button>\n        <div className=\"banner__imgs-wrapper\">\n          <div\n            className=\"banner__imgs-container\"\n            style={{\n              transition: `margin-left ${currentDuration}ms`,\n              marginLeft: `${-itemWidth * currentSlide}px`,\n            }}\n          >\n            {imgsForRender.map(item => (\n              <img\n                src={item.url}\n                alt={item.alt}\n                className=\"banner__img\"\n                key={item.id}\n                style={{ width: `${itemWidth}px` }}\n              />\n            ))}\n          </div>\n        </div>\n        <button\n          className=\"banner__button  button button--banner\"\n          type=\"button\"\n          aria-label=\"Slide control right\"\n          onClick={handlerNextButton}\n        >\n          <span className=\"icon icon--right\" />\n        </button>\n      </div>\n      <div className=\"banner__slides-dots\">\n        {\n          images.map(item => (\n            <button\n              key={item.id}\n              type=\"button\"\n              aria-label=\"Slide control dot\"\n              className={classNames(\n                'banner__slide-dot',\n                { 'banner__slide-dot--selected': item.id === currentSlide },\n              )}\n              onClick={handlerDotClick(item.id)}\n            />\n          ))\n        }\n      </div>\n    </div>\n  );\n};\n","import classNames from 'classnames';\n\ntype Props = {\n  message: string;\n  isError: boolean;\n};\n\nexport const Message: React.FC<Props> = ({ message, isError }) => {\n  return (\n    <div\n      className={classNames(\n        'message',\n        { 'message--error': isError },\n      )}\n    >\n      <h3>{message}</h3>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Product } from '../types/Product';\nimport { getProducts } from '../api/products';\nimport { Loader } from '../components/Loader';\nimport { ProductsSlider } from '../components/ProductsSlider';\nimport { ShopByCategory } from '../components/ShopByCategory';\nimport { Banner } from '../components/Banner';\nimport { Message } from '../components/Message';\n\nexport const HomePage: React.FC = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getHotPriceProducts = () => {\n    return products\n      .filter(product => product.discount > 0)\n      .sort((productA, productB) => {\n        return productB.price * productB.discount\n          - productA.price * productA.discount;\n      });\n  };\n\n  const getBrandNewProduct = () => {\n    return products\n      .filter(product => !product.discount)\n      .sort((productA, productB) => productB.price - productA.price);\n  };\n\n  const hotPriceProducts = getHotPriceProducts();\n  const newProducts = getBrandNewProduct();\n\n  const getQuantity = (productType: string) => {\n    return products\n      .filter(currentProduct => currentProduct.type === productType)\n      .length;\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    getProducts()\n      .then(loadedProducts => setProducts(loadedProducts))\n      .catch(() => {\n        setIsError(true);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, []);\n\n  return (\n    <div className=\"home-page\">\n      <section className=\"home-page__top-slider\">\n        <Banner />\n      </section>\n\n      <section className=\"home-page__hot-prices\">\n        {!isError && !isLoading && (\n          <ProductsSlider products={hotPriceProducts} title=\"Hot prices\" />\n        )}\n        {isError && (\n          <Message message=\"Failed to load products\" isError />\n        )}\n        {isLoading && (\n          <Loader />\n        )}\n      </section>\n\n      <section className=\"home-page__shop-by-category\">\n        <ShopByCategory\n          phonesQuantity={getQuantity('phone')}\n          tabletsQuantity={getQuantity('tablet')}\n          accessoriesQuantity={getQuantity('accessorie')}\n        />\n      </section>\n\n      <section className=\"home-page__new-models\">\n        {!isError && !isLoading && (\n          <ProductsSlider products={newProducts} title=\"Brand new models\" />\n        )}\n        {isError && (\n          <Message message=\"Failed to load products\" isError />\n        )}\n        {isLoading && (\n          <Loader />\n        )}\n      </section>\n    </div>\n  );\n};\n","import { Link } from 'react-router-dom';\nimport { Message } from '../components/Message';\n\nexport const NotFoundPage = () => {\n  return (\n    <section className=\"not-found-page\">\n      <div className=\"not-found-page__message\">\n        <Message message=\"Page not found\" isError />\n      </div>\n\n      <Link to=\"/\" className=\"not-found-page__link\">\n        Home\n      </Link>\n    </section>\n  );\n};\n","import React from 'react';\nimport { Product } from '../types/Product';\nimport { ProductCard } from './ProductCard';\n\ntype Props = {\n  products: Product[],\n};\n\nexport const ProductsList: React.FC<Props> = ({ products }) => {\n  return (\n    <ul className=\"products-list\" data-cy=\"productList\">\n      {\n        products.map(product => (\n          <li className=\"products-list__item\" key={product.id}>\n            <ProductCard product={product} />\n          </li>\n        ))\n      }\n    </ul>\n  );\n};\n","import { Link, LinkProps, useSearchParams } from 'react-router-dom';\nimport { getSearchWith, SearchParams } from '../helpers/searchHelper';\n\n/**\n * To replace the the standard `Link` we take all it props except for `to`\n * along with the custom `params` prop that we use for updating the search\n */\ntype Props = Omit<LinkProps, 'to'> & {\n  params: SearchParams,\n};\n\n/**\n * SearchLink updates the given `params` in the search keeping the `pathname`\n * and the other existing search params (see `getSearchWith`)\n */\nexport const SearchLink: React.FC<Props> = ({\n  children, // this is the content between the open and closing tags\n  params, // the params to be updated in the `search`\n  ...props // all usual Link props like `className`, `style` and `id`\n}) => {\n  const [searchParams] = useSearchParams();\n\n  return (\n    <Link\n      // to={{ search: getSearchWith(searchParams, { query: 'sdf' }) }}\n      // to={{ search: getSearchWith(searchParams, { query: null }) }}\n      // to={{ search: getSearchWith(searchParams, { centuries: ['16', '18'] }) }}\n      to={{\n        search: getSearchWith(searchParams, params),\n      }}\n      {...props} // copy all the other props\n    >\n      {children}\n    </Link>\n  );\n};\n","import React, { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { SearchLink } from './SearchLink';\n\ntype DropdownItem = {\n  text: string,\n  value: string,\n};\n\ntype Props = {\n  items: DropdownItem[],\n  filterName: string,\n  defaultValue: string,\n};\n\nexport const Selector: React.FC<Props> = ({\n  items,\n  filterName,\n  defaultValue,\n}) => {\n  const [isDropdown, setIsDropdown] = useState(false);\n  const [searchParams] = useSearchParams();\n  const sortBy = searchParams.get(filterName) || defaultValue;\n\n  const onClickHandler = () => setIsDropdown(!isDropdown);\n\n  const getSortByText = () => items.find(item => item.value === sortBy)?.text;\n\n  const getParams = (value: string) => {\n    const addParam = { [filterName]: value };\n\n    addParam.page = '1';\n\n    return addParam;\n  };\n\n  return (\n    <div\n      className={classNames(\n        'selector',\n        { 'selector--is-active': isDropdown },\n      )}\n    >\n      <button\n        type=\"button\"\n        className={classNames(\n          'button',\n          'button--dropdown',\n          { 'button--dropdown-active': isDropdown },\n        )}\n        onClick={onClickHandler}\n      >\n        <span>{getSortByText()}</span>\n\n        <span className={`icon ${isDropdown ? 'icon--up-disabled' : 'icon--down-disabled'}`} />\n      </button>\n\n      <div\n        className={classNames(\n          'selector__menu',\n          { 'selector__menu--is-active': isDropdown },\n        )}\n      >\n        {items.map(item => (\n          <SearchLink\n            className={classNames(\n              'selector__link',\n              { 'selector__link--is-active': item.value === sortBy },\n            )}\n            key={item.value}\n            params={getParams(item.value)}\n            onClick={onClickHandler}\n          >\n            {item.text}\n          </SearchLink>\n        ))}\n      </div>\n    </div>\n  );\n};\n","import classNames from 'classnames';\nimport React from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchWith } from '../helpers/searchHelper';\nimport { getNumbers } from '../helpers/getNumbers';\n\ntype Props = {\n  quantity: number,\n  perPage: number,\n  page: string,\n};\n\nexport const Pagination: React.FC<Props> = ({\n  quantity,\n  perPage,\n  page,\n}) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const endPage = Math.ceil(quantity / perPage);\n  const pages = getNumbers(1, endPage);\n\n  const handlerPreviousButton = () => {\n    if (page !== '1') {\n      setSearchParams(\n        getSearchWith(searchParams, { page: String(+page - 1) }),\n      );\n    }\n  };\n\n  const handlerOnClickPage = (currentPage: number) => () => {\n    if (currentPage !== +page) {\n      setSearchParams(\n        getSearchWith(searchParams, { page: String(currentPage) }),\n      );\n    }\n  };\n\n  const handlerNextButton = () => {\n    if (page !== String(endPage)) {\n      setSearchParams(\n        getSearchWith(searchParams, { page: String(+page + 1) }),\n      );\n    }\n  };\n\n  return (\n    <ul className=\"pagination\" data-cy=\"pagination\">\n      <li className=\"pagination__item\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          data-cy=\"paginationLeft\"\n          onClick={handlerPreviousButton}\n          disabled={page === '1'}\n        >\n          <span\n            className={\n              `icon ${page === '1' ? 'icon--left-disabled' : 'icon--left'}`\n            }\n          />\n        </button>\n      </li>\n      {pages.map(pageNumber => (\n        <li className=\"pagination__item\" key={pageNumber}>\n          <button\n            type=\"button\"\n            className={classNames(\n              'button',\n              { 'button--selected': pageNumber === +page },\n            )}\n            onClick={handlerOnClickPage(pageNumber)}\n          >\n            {pageNumber}\n          </button>\n        </li>\n      ))}\n      <li className=\"pagination__item\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          data-cy=\"paginationRight\"\n          onClick={handlerNextButton}\n          disabled={page === String(endPage)}\n        >\n          <span\n            className={\n              `icon ${page === String(endPage) ? 'icon--right-disabled' : 'icon--right'}`\n            }\n          />\n        </button>\n      </li>\n    </ul>\n  );\n};\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","type Props = {\n  categoryName: string;\n};\n\nexport const NoResults: React.FC<Props> = ({ categoryName }) => {\n  return (\n    <div className=\"message\">\n      <h3>{`${categoryName} not found`}</h3>\n    </div>\n  );\n};\n","import { Link, useLocation } from 'react-router-dom';\n\ntype Props = {\n  productName?: string,\n};\n\nexport const Breadcrumbs: React.FC<Props> = ({ productName }) => {\n  const location = useLocation();\n  const paths = location.pathname.split('/');\n\n  const getCrumbElement = (path: string, text: string, isLast: boolean) => {\n    return (\n      <>\n        <div className=\"icon icon--right-disabled\" />\n        {isLast\n          ? <div className=\"breadcrumbs__text\">{text}</div>\n          : <Link to={`/${path}`} className=\"breadcrumbs__link\">{text}</Link>}\n      </>\n    );\n  };\n\n  const switchCrumb = (path: string, index: number, array: string[]) => {\n    const isLast = index === array.length - 1;\n\n    switch (path) {\n      case '':\n        return (<Link to=\"/\" className=\"icon icon--home\" />);\n\n      case 'phones':\n        return getCrumbElement(path, 'Mobile phones', isLast);\n\n      case 'tablets':\n        return getCrumbElement(path, 'Tablets', isLast);\n\n      case 'accessories':\n        return getCrumbElement(path, 'Accessories', isLast);\n\n      case 'favorites':\n        return getCrumbElement(path, 'Favorites', isLast);\n\n      default:\n        return getCrumbElement(path, productName || '', true);\n    }\n  };\n\n  return (\n    <ul className=\"breadcrumbs\" data-cy=\"breadCrumbs\">\n      {paths.map((item, index, items) => (\n        <li key={item} className=\"breadcrumbs__element\">\n          {switchCrumb(item, index, items)}\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Product } from '../types/Product';\nimport { getProducts } from '../api/products';\nimport { Loader } from '../components/Loader';\nimport { ProductsList } from '../components/ProductsList';\nimport { Selector } from '../components/Selector';\nimport { Pagination } from '../components/Pagination';\nimport { NoResults } from '../components/NoResults';\nimport { Message } from '../components/Message';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\n\ntype Props = {\n  getProductsOfType: (products: Product[]) => Product[],\n  pageTitle: string;\n};\n\nexport const ProductsPage: React.FC<Props> = ({\n  getProductsOfType,\n  pageTitle,\n}) => {\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query')?.toLowerCase();\n\n  const sortItems = [\n    { text: 'Newest', value: 'age' },\n    { text: 'Alphabetically', value: 'name' },\n    { text: 'Cheapest', value: 'price' },\n  ];\n  const paginationItems = [\n    { text: '4', value: '4' },\n    { text: '8', value: '8' },\n    { text: '16', value: '16' },\n    { text: 'all', value: 'all' },\n  ];\n\n  const defaultSort = 'age';\n  const defaultPerPage = '4';\n  const sortBy = searchParams.get('sort') || defaultSort;\n  const perPage = searchParams.get('perPage') || defaultPerPage;\n  const page = searchParams.get('page') || '1';\n\n  const priceWithDiscount = (product: Product) => {\n    return product.price - (product.price * product.discount) / 100;\n  };\n\n  const products = getProductsOfType(allProducts);\n\n  const foundProducts = query\n    ? products.filter(item => item.name.toLowerCase().includes(query))\n    : [...products];\n\n  const getPerPage = () => {\n    return perPage === 'all' ? foundProducts.length : +perPage;\n  };\n\n  const beginItem = getPerPage() * +page - getPerPage();\n  const endItem = (getPerPage() * +page > foundProducts.length)\n    ? foundProducts.length\n    : getPerPage() * +page;\n\n  const getVisibleProducts = () => {\n    switch (sortBy) {\n      case 'name':\n        foundProducts.sort((productA, productB) => {\n          return productA.name.localeCompare(productB.name);\n        });\n        break;\n\n      case 'price':\n        foundProducts.sort((productA, productB) => {\n          const a = productA.discount\n            ? priceWithDiscount(productA)\n            : productA.price;\n          const b = productB.discount\n            ? priceWithDiscount(productB)\n            : productB.price;\n\n          return a - b;\n        });\n        break;\n\n      default:\n        foundProducts.sort((productA, productB) => {\n          return productA.age - productB.age;\n        });\n    }\n\n    return foundProducts.slice(beginItem, endItem);\n  };\n\n  const visibleProducts = getVisibleProducts();\n\n  useEffect(() => {\n    setIsError(false);\n    setIsLoading(true);\n    getProducts()\n      .then(loadedProducts => setAllProducts(loadedProducts))\n      .catch(() => {\n        setIsError(true);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [pageTitle]);\n\n  return (\n    <div className=\"products-page\">\n      <div className=\"products-page__breadcrumbs\">\n        <Breadcrumbs />\n      </div>\n      <h1 className=\"products-page__title\">{pageTitle}</h1>\n      <div className=\"products-page__quantity\">{`${products.length} models`}</div>\n\n      {!isError && !isLoading && !!foundProducts.length && (\n        <section>\n          <div className=\"products-page__filters\">\n            <div className=\"products-page__sort\">\n              <p className=\"products-page__filters-title\">Sort by</p>\n              <Selector\n                items={sortItems}\n                filterName=\"sort\"\n                defaultValue={defaultSort}\n              />\n            </div>\n            <div className=\"products-page__items-on-page\">\n              <p className=\"products-page__filters-title\">Items on page</p>\n              <Selector\n                items={paginationItems}\n                filterName=\"perPage\"\n                defaultValue={defaultPerPage}\n              />\n            </div>\n          </div>\n          <div className=\"products-page__products-container\">\n            <ProductsList products={visibleProducts} />\n          </div>\n          <div className=\"products-page__pagination-container\">\n            <Pagination\n              quantity={foundProducts.length}\n              perPage={getPerPage()}\n              page={page}\n            />\n          </div>\n        </section>\n      )}\n      {isError && (\n        <Message message=\"Failed to load products\" isError />\n      )}\n      {isLoading && (\n        <Loader />\n      )}\n      {!isError && !isLoading && !foundProducts.length && !!products.length && (\n        <Message message=\"No search results\" isError={false} />\n      )}\n      {!isError && !isLoading && !products.length && (\n        <NoResults categoryName={pageTitle} />\n      )}\n    </div>\n  );\n};\n","import { Product } from '../types/Product';\n\nexport function getPhones(products: Product[]) {\n  return products.filter(product => product.type === 'phone');\n}\n\nexport function getTablets(products: Product[]) {\n  return products.filter(product => product.type === 'tablet');\n}\n\nexport function getAccessories(products: Product[]) {\n  return products.filter(product => product.type === 'accessory');\n}\n\nexport function getRandomProducts(\n  products: Product[],\n  currentProductId: string,\n) {\n  const result = [...products]\n    .filter(product => product.id !== currentProductId);\n\n  for (let i = result.length - 1; i > 0; i -= 1) {\n    const j = Math.floor(Math.random() * (i + 1));\n\n    [result[i], result[j]] = [result[j], result[i]];\n  }\n\n  return result;\n}\n","import classNames from 'classnames';\nimport { useState } from 'react';\n\ntype Props = {\n  imagesUrl: string[],\n};\n\nexport const ProductGallery: React.FC<Props> = ({ imagesUrl }) => {\n  const [mainPhoto, setMainPhoto] = useState<string>(imagesUrl[0]);\n  const altMainPhoto = mainPhoto.match(/[^\\\\/]+(?=\\.\\w+$)/) || '';\n  const [position, setPosition] = useState(0);\n  const frameSize = 4;\n  const itemHeight = 80;\n  const gap = 16;\n  const animationDuration = 300;\n  const endPosition = (-itemHeight - gap) * (imagesUrl.length - frameSize);\n  const shift = itemHeight + gap;\n\n  const onClickGalleryItem = (imgUrl: string) => () => {\n    if (imgUrl !== mainPhoto) {\n      setMainPhoto(imgUrl);\n    }\n  };\n\n  const getHeight = () => {\n    if (imagesUrl.length > 5) {\n      return frameSize * itemHeight + gap * (frameSize - 1);\n    }\n\n    return imagesUrl.length * itemHeight + gap * (imagesUrl.length - 1);\n  };\n\n  const onClickDown = () => {\n    let currentPosition = position;\n\n    currentPosition -= shift;\n    currentPosition = Math.max(currentPosition, endPosition);\n\n    setPosition(currentPosition);\n  };\n\n  const onClickUp = () => {\n    let currentPosition = position;\n\n    currentPosition += shift;\n    currentPosition = Math.min(currentPosition, 0);\n    setPosition(currentPosition);\n  };\n\n  return (\n    <div className=\"product-gallery\">\n      <div className=\"product-gallery__thumbnails-container\">\n        {imagesUrl.length > 5 && (\n          <button\n            type=\"button\"\n            className=\"\n              product-gallery__thumbnail\n              product-gallery__thumbnail--arrow\n            \"\n            onClick={onClickUp}\n            disabled={position === 0}\n          >\n            <span\n              className={\n                `icon ${position === 0 ? 'icon--up-disabled' : 'icon--up'}`\n              }\n            />\n          </button>\n        )}\n        <div\n          className=\"product-gallery__thumbnails\"\n          style={{\n            height: `${getHeight()}px`,\n          }}\n        >\n          <div\n            className=\"product-gallery__list\"\n            style={{\n              transition: `margin-top ${animationDuration}ms`,\n              marginTop: `${position}px`,\n            }}\n          >\n            {imagesUrl.map(image => {\n              const nameImage = image.match(/[^\\\\/]+(?=\\.\\w+$)/) || '';\n\n              return (\n                <button\n                  type=\"button\"\n                  className={classNames(\n                    'product-gallery__thumbnail',\n                    {\n                      'product-gallery__thumbnail--active': image === mainPhoto,\n                    },\n                  )}\n                  key={image}\n                  onClick={onClickGalleryItem(image)}\n                >\n                  <img\n                    src={`./${image}`}\n                    alt={nameImage[0]}\n                    className=\"product-gallery__image\"\n                  />\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {imagesUrl.length > 5 && (\n          <button\n            type=\"button\"\n            className=\"\n              product-gallery__thumbnail\n              product-gallery__thumbnail--arrow\n            \"\n            onClick={onClickDown}\n            disabled={position === endPosition}\n          >\n            <span\n              className={\n                `icon ${position === endPosition ? 'icon--down-disabled' : 'icon--down'}`\n              }\n            />\n          </button>\n        )}\n      </div>\n      <div className=\"product-gallery__large-image-container\">\n        <img\n          src={`./${mainPhoto}`}\n          alt={altMainPhoto[0]}\n          className=\"product-gallery__image\"\n        />\n      </div>\n    </div>\n  );\n};\n","import { useContext, useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\nimport { getProductDetails, getProducts } from '../api/products';\nimport { ProductDetails } from '../types/ProductDetails';\nimport { Message } from '../components/Message';\nimport { Loader } from '../components/Loader';\nimport { ProductGallery } from '../components/ProductGallery';\nimport { Product } from '../types/Product';\nimport { CartContext } from '../helpers/cartHelper';\nimport { FavoritesContext } from '../helpers/favoritesHelper';\nimport { ProductsSlider } from '../components/ProductsSlider';\nimport { getRandomProducts } from '../helpers/getProducts';\n\nexport const ProductDetailsPage = () => {\n  const { cartItems, addCartItems } = useContext(CartContext);\n  const { favorites, addRemoveToFavorites } = useContext(FavoritesContext);\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\n  const [randomProducts, setRandomProducts] = useState<Product[]>([]);\n  const { productId = '' } = useParams();\n  const [\n    productDetails,\n    setProductDetails,\n  ] = useState<ProductDetails | null>(null);\n  const [isError, setIsError] = useState({ details: false, products: false });\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n  const product = allProducts.find(item => item.id === productId);\n  const inCart = product\n    ? cartItems.find(item => item.id === product.id)\n    : false;\n  const inFavorites = product\n    ? favorites.find(item => item.id === product.id)\n    : false;\n  const priceWithDiscount = product\n    ? product.price - (product.price * product.discount) / 100\n    : 0;\n\n  const backHandler = () => navigate(-1);\n\n  const addToCart = () => {\n    if (!inCart && product) {\n      addCartItems(product);\n    }\n  };\n\n  const onClickFavoritesHandler = (currentProduct: Product) => () => {\n    addRemoveToFavorites(currentProduct);\n  };\n\n  useEffect(() => {\n    setIsError({ details: false, products: false });\n    setIsLoading(true);\n    const currentError = { details: false, products: false };\n\n    const fetchData = async () => {\n      const resultProductDetails = await getProductDetails(productId)\n        .catch(() => {\n          currentError.details = true;\n          setIsError(currentError);\n\n          return null;\n        });\n\n      const resultProducts = await getProducts()\n        .catch(() => {\n          currentError.products = true;\n          setIsError(currentError);\n\n          return [];\n        });\n\n      setProductDetails(resultProductDetails);\n      setAllProducts(resultProducts);\n      setRandomProducts(getRandomProducts(resultProducts, productId));\n    };\n\n    fetchData()\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [productId]);\n\n  return (\n    <div className=\"product-details-page\">\n      <div className=\"product-details-page__breadcrumbs\">\n        <Breadcrumbs productName={productDetails?.name} />\n      </div>\n      <button\n        className=\"product-details-page__back-button button button--back\"\n        type=\"button\"\n        data-cy=\"backButton\"\n        onClick={backHandler}\n      >\n        <span className=\"icon icon--left\" />\n        <div className=\"button__back-text\">Back</div>\n      </button>\n\n      {isError.details && (\n        <div className=\"product-details-page__message\">\n          <Message message=\"Product was not found\" isError />\n        </div>\n      )}\n\n      {isError.products && (\n        <div className=\"product-details-page__message\">\n          <Message message=\"Failed to load products\" isError />\n        </div>\n      )}\n\n      {isLoading && (\n        <Loader />\n      )}\n\n      {!isError.details && !isLoading && productDetails && product && (\n        <section>\n          <h1 className=\"product-details-page__title\">\n            {productDetails?.name}\n          </h1>\n          <div className=\"product-details-page__product-container\">\n            <div className=\"product-details-page__product-section\">\n              <ProductGallery imagesUrl={productDetails.images} />\n            </div>\n            <div className=\"product-details-page__product-section\">\n              <div className=\"product-details-page__main-info-container\">\n                <div className=\"product-details-page__main-info\">\n                  <div className=\"product-details-page__price-container\">\n                    <h1>{`$${product.discount ? priceWithDiscount : product.price}`}</h1>\n                    {!!product.discount && (\n                      <p className=\"product-details-page__discount\">\n                        {`$${product.price}`}\n                      </p>\n                    )}\n                  </div>\n\n                  <div className=\"product-details-page__buttons\">\n                    <button\n                      type=\"button\"\n                      className={classNames(\n                        'button',\n                        'button--add',\n                        { 'button--add-selected': inCart },\n                      )}\n                      onClick={addToCart}\n                    >\n                      { inCart ? 'Added to cart' : 'Add to cart' }\n                    </button>\n\n                    <button\n                      type=\"button\"\n                      className=\"button button--favorites-large\"\n                      onClick={onClickFavoritesHandler(product)}\n                    >\n                      <span\n                        className={\n                          `icon ${inFavorites ? 'icon--favorites-selected' : 'icon--favorites'}`\n                        }\n                      />\n                    </button>\n                  </div>\n\n                  <div\n                    className=\"\n                      product-details-page__characteristics\n                      product-details-page__characteristics--small\n                    \"\n                  >\n                    <div className=\"product-details-page__characteristic\">\n                      <p>Screen</p>\n                      <p>{productDetails.display.screenSize}</p>\n                    </div>\n                    <div className=\"product-details-page__characteristic\">\n                      <p>Resolution</p>\n                      <p>{productDetails.display.screenResolution}</p>\n                    </div>\n                    <div className=\"product-details-page__characteristic\">\n                      <p>Processor</p>\n                      <p>{productDetails.hardware.cpu}</p>\n                    </div>\n                    <div className=\"product-details-page__characteristic\">\n                      <p>RAM</p>\n                      <p>{productDetails.storage.ram}</p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"product-details-page__id\">\n                  {`ID: ${productDetails.id}`}\n                </div>\n              </div>\n            </div>\n            <div\n              className=\"product-details-page__product-section\"\n              data-cy=\"productDescription\"\n            >\n              <h2 className=\"product-details-page__subtitle\">About</h2>\n              <hr className=\"product-details-page__line\" />\n              <p className=\"product-details-page__description\">\n                {productDetails.description}\n              </p>\n            </div>\n\n            <div className=\"product-details-page__product-section\">\n              <h2 className=\"product-details-page__subtitle\">Tech specs</h2>\n              <hr className=\"product-details-page__line\" />\n              <div className=\"product-details-page__characteristics\">\n                <div className=\"product-details-page__characteristic\">\n                  <p>Screen</p>\n                  <p>{productDetails.display.screenSize}</p>\n                </div>\n                <div className=\"product-details-page__characteristic\">\n                  <p>Resolution</p>\n                  <p>{productDetails.display.screenResolution}</p>\n                </div>\n                <div className=\"product-details-page__characteristic\">\n                  <p>Processor</p>\n                  <p>{productDetails.hardware.cpu}</p>\n                </div>\n                <div className=\"product-details-page__characteristic\">\n                  <p>RAM</p>\n                  <p>{productDetails.storage.ram}</p>\n                </div>\n                <div className=\"product-details-page__characteristic\">\n                  <p>Built in memory</p>\n                  <p>{productDetails.storage.flash}</p>\n                </div>\n                <div className=\"product-details-page__characteristic\">\n                  <p>Camera</p>\n                  <p>{productDetails.camera.primary}</p>\n                </div>\n                <div className=\"product-details-page__characteristic\">\n                  <p>Battery</p>\n                  <p>{productDetails.battery.type}</p>\n                </div>\n                <div className=\"product-details-page__characteristic\">\n                  <p>Cell</p>\n                  <p>{productDetails.connectivity.cell}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      )}\n      {!isError.products && !isLoading && !!allProducts.length && (\n        <section className=\"product-details-page__may-also-like\">\n          <ProductsSlider\n            products={randomProducts}\n            title=\"You may also like\"\n          />\n        </section>\n      )}\n    </div>\n  );\n};\n","import { useContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { CartContext } from '../helpers/cartHelper';\nimport { CartItem } from '../types/CartItem';\nimport { Message } from '../components/Message';\n\nexport const CartPage = () => {\n  const navigate = useNavigate();\n  const [onCheckout, setOnCheckout] = useState(false);\n  const {\n    cartItems,\n    getTotalQuantity,\n    deleteCartItem,\n    incrementCounter,\n    decrementCounter,\n  } = useContext(CartContext);\n\n  const backHandler = () => navigate(-1);\n\n  const backOnCartHandler = () => setOnCheckout(false);\n\n  const onCheckoutHandler = () => setOnCheckout(true);\n\n  const getProductPrice = (cartItem: CartItem) => {\n    if (cartItem.product.discount) {\n      return (cartItem.product.price\n        - (cartItem.product.price * cartItem.product.discount) / 100)\n        * cartItem.quantity;\n    }\n\n    return cartItem.product.price * cartItem.quantity;\n  };\n\n  const getTotalPrice = () => {\n    return cartItems\n      .reduce((sum, current) => sum + getProductPrice(current), 0);\n  };\n\n  const deleteCartItemHandler = (productId: string) => () => {\n    deleteCartItem(productId);\n  };\n\n  const addCounterHandler = (productId: string) => () => {\n    incrementCounter(productId);\n  };\n\n  const subtractCounterHandler = (productId: string) => () => {\n    decrementCounter(productId);\n  };\n\n  return (\n    <div className=\"cart-page\">\n      <button\n        className=\"cart-page__back-button button button--back\"\n        type=\"button\"\n        data-cy=\"backButton\"\n        onClick={onCheckout ? backOnCartHandler : backHandler}\n      >\n        <span className=\"icon icon--left\" />\n        <div className=\"button__back-text\">Back</div>\n      </button>\n\n      <section>\n        <h1 className=\"cart-page__title\">Cart</h1>\n        {!!cartItems.length && !onCheckout && (\n          <div className=\"cart-page__container\">\n            <div className=\"cart-page__products\">\n              {cartItems.map(item => (\n                <div className=\"cart-page__product\" key={item.id}>\n                  <button\n                    className=\"cart-page__delete-button button button--delete\"\n                    type=\"button\"\n                    data-cy=\"cartDeleteButton\"\n                    onClick={deleteCartItemHandler(item.id)}\n                  >\n                    <span className=\"icon icon--close-cart-item\" />\n                  </button>\n                  <img\n                    src={`./${item.product.imageUrl}`}\n                    alt={item.product.name}\n                    className=\"cart-page__img\"\n                  />\n                  <p className=\"cart-page__name\">{item.product.name}</p>\n                  <div className=\"cart-page__counter\">\n                    <button\n                      className=\"button button--counter\"\n                      type=\"button\"\n                      data-cy=\"cartDeleteButton\"\n                      onClick={subtractCounterHandler(item.id)}\n                      disabled={item.quantity === 1}\n                    >\n                      &#8722;\n                    </button>\n                    <div>{item.quantity}</div>\n                    <button\n                      className=\"button button--counter\"\n                      type=\"button\"\n                      data-cy=\"cartDeleteButton\"\n                      onClick={addCounterHandler(item.id)}\n                    >\n                      +\n                    </button>\n                  </div>\n                  <h2>{`$${getProductPrice(item)}`}</h2>\n                </div>\n              ))}\n            </div>\n            <div className=\"cart-page__total\">\n              <h1>{`$${getTotalPrice()}`}</h1>\n              <div\n                className=\"cart-page__total-quantity\"\n                data-cy=\"productQauntity\"\n              >\n                {`Total for ${getTotalQuantity()} items`}\n              </div>\n              <div className=\"cart-page__button\">\n                <button\n                  type=\"button\"\n                  className=\"button button--add\"\n                  onClick={onCheckoutHandler}\n                >\n                  Checkout\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n        {!cartItems.length && (\n          <Message message=\"Your cart is empty\" isError={false} />\n        )}\n        {onCheckout && (\n          <Message\n            message=\"We are sorry, but this feature is not implemented yet\"\n            isError={false}\n          />\n        )}\n      </section>\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Message } from '../components/Message';\nimport { FavoritesContext } from '../helpers/favoritesHelper';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\nimport { ProductsList } from '../components/ProductsList';\n\nexport const FavoritesPage = () => {\n  const { favorites } = useContext(FavoritesContext);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query')?.toLowerCase();\n\n  const visibleFavorites = query\n    ? favorites.filter(item => item.name.toLowerCase().includes(query))\n    : favorites;\n\n  return (\n    <div className=\"favorites-page\">\n      <div className=\"favorites-page__breadcrumbs\">\n        <Breadcrumbs />\n      </div>\n\n      <section>\n        <h1 className=\"favorites-page__title\">Favorites</h1>\n        <div className=\"favorites-page__quantity\">{`${favorites.length} items`}</div>\n        {!!visibleFavorites.length && (\n          <div className=\"favorites-page__products-container\">\n            <ProductsList products={visibleFavorites} />\n          </div>\n        )}\n        {!!favorites.length && !visibleFavorites.length && (\n          <Message message=\"No search results\" isError={false} />\n        )}\n        {!favorites.length && (\n          <Message message=\"Your favorites is empty\" isError={false} />\n        )}\n      </section>\n    </div>\n  );\n};\n","import React from 'react';\nimport {\n  Navigate,\n  Route,\n  Routes,\n} from 'react-router-dom';\nimport { Footer } from './components/Footer';\nimport { Header } from './components/Header';\nimport { HomePage } from './pages/HomePage';\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { CartProvider } from './helpers/cartHelper';\nimport { FavoritesProvider } from './helpers/favoritesHelper';\nimport { ProductsPage } from './pages/ProductsPage';\nimport { getAccessories, getPhones, getTablets } from './helpers/getProducts';\nimport { ProductDetailsPage } from './pages/ProductDetailsPage';\nimport { CartPage } from './pages/CartPage';\nimport { FavoritesPage } from './pages/FavoritesPage';\n\nexport const App: React.FC = () => {\n  return (\n    <CartProvider>\n      <FavoritesProvider>\n        <div className=\"app\">\n          <Header />\n\n          <main className=\"app__main\">\n            <Routes>\n              <Route path=\"/\" element={<HomePage />} />\n              <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n\n              <Route path=\"phones\">\n                <Route\n                  index\n                  element={(\n                    <ProductsPage\n                      getProductsOfType={getPhones}\n                      pageTitle=\"Mobile phones\"\n                    />\n                  )}\n                />\n                <Route path=\":productId\" element={<ProductDetailsPage />} />\n              </Route>\n\n              <Route path=\"tablets\">\n                <Route\n                  index\n                  element={(\n                    <ProductsPage\n                      getProductsOfType={getTablets}\n                      pageTitle=\"Tablets\"\n                    />\n                  )}\n                />\n                <Route path=\":productId\" element={<ProductDetailsPage />} />\n              </Route>\n\n              <Route path=\"accessories\">\n                <Route\n                  index\n                  element={(\n                    <ProductsPage\n                      getProductsOfType={getAccessories}\n                      pageTitle=\"Accessories\"\n                    />\n                  )}\n                />\n                <Route path=\":productId\" element={<ProductDetailsPage />} />\n              </Route>\n\n              <Route path=\"/cart\" element={<CartPage />} />\n              <Route path=\"/favorites\" element={<FavoritesPage />} />\n\n              <Route path=\"*\" element={<NotFoundPage />} />\n            </Routes>\n          </main>\n\n          <Footer />\n        </div>\n      </FavoritesProvider>\n    </CartProvider>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport { App } from './App';\nimport './styles/index.scss';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}